<!DOCTYPE html>
<html>
<head>
    <title>Summer Camp Registration</title>
</head>
<body>
    <h1>Welcome to the Regent's Summer Camp!</h1>
    <h2>Sign Up</h2>
    <form method="POST" action="/signup">
        <label>Name:</label><br>
        <input type="text" name="name" required><br>
        <label>Email:</label><br>
        <input type="email" name="email" required><br>
        <button type="submit">Register</button>
    </form>

    <h2>Cancel Registration</h2>
    <form method="POST" action="/cancel">
        <label>Email:</label><br>
        <input type="email" name="email" required><br>
        <button type="submit">Cancel</button>
    </form>

<p>Spots Available: {{ remaining_spots }}</p>
<p>Waitlist Size: {{ waitlist_size }}</p>

{% if remaining_spots > 0 %}
    <form action="/signup" method="post">
        <input type="text" name="name" placeholder="Your Name" required>
        <input type="email" name="email" placeholder="Your Email" required>
        <button type="submit">Sign Up</button>
    </form>
{% else %}
    <p style="color: red;">Registration is full. Join the waitlist!</p>
    <form action="/signup" method="post">
        <input type="text" name="name" placeholder="Your Name" required>
        <input type="email" name="email" placeholder="Your Email" required>
        <button type="submit">Join Waitlist</button>
    </form>
{% endif %}

    {% with messages = get_flashed_messages() %}
    {% if messages %}
        <ul>
            {% for message in messages %}
                <li>{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}
    {% endwith %}
</body>
</html>